# üöÄ VPS Developer Flow –¥–ª—è Gemini Bot

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π workflow –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Telegram –±–æ—Ç–∞ –Ω–∞ —á–∏—Å—Ç–æ–º Ubuntu VPS.

```
–õ–æ–∫–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞ ‚Üí Git ‚Üí CI/CD ‚Üí VPS (Production)
                  ‚Üì
              VPS (Staging)
```

---

## üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Local Development                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ   VS Code    ‚îÇ  ‚îÇ   Docker     ‚îÇ  ‚îÇ   Git        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Remote)    ‚îÇ  ‚îÇ  (Local)     ‚îÇ  ‚îÇ  (Push)      ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ                                  ‚îÇ
          ‚îÇ SSH                              ‚îÇ
          ‚ñº                                  ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    VPS (Ubuntu)             ‚îÇ           ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Development Environment               ‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ Node.js  ‚îÇ  ‚îÇ  Docker  ‚îÇ  ‚îÇ  Redis ‚îÇ‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  18+     ‚îÇ  ‚îÇ  Compose ‚îÇ  ‚îÇ  7.x   ‚îÇ‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ PM2      ‚îÇ  ‚îÇ Nginx    ‚îÇ  ‚îÇ  Git   ‚îÇ‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  CI/CD Pipeline                        ‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ GitHub   ‚îÇ  ‚îÇ  Docker   ‚îÇ  ‚îÇ  Auto  ‚îÇ‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ Actions  ‚îÇ  ‚îÇ  Build   ‚îÇ  ‚îÇ Deploy ‚îÇ‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Monitoring & Logging                   ‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ Winston  ‚îÇ  ‚îÇ Grafana  ‚îÇ  ‚îÇ Alerts ‚îÇ‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ        ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                           ‚îÇ
                                           ‚îÇ Pull/Deploy
                                           ‚ñº
                                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                  ‚îÇ  Production    ‚îÇ
                                  ‚îÇ  (PM2 Cluster) ‚îÇ
                                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üì¶ –ß–∞—Å—Ç—å 1: –ù–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VPS

### 1.1 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VPS

```bash
# –° –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã
ssh root@your-vps-ip

# –ò–ª–∏ —Å SSH –∫–ª—é—á–æ–º
ssh -i ~/.ssh/your-key.pem root@your-vps-ip
```

### 1.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤—ã—Ö —É—Ç–∏–ª–∏—Ç
apt install -y \
  curl \
  wget \
  git \
  vim \
  nano \
  htop \
  tmux \
  ufw \
  fail2ban \
  unzip \
  build-essential \
  python3 \
  python3-pip \
  software-properties-common \
  apt-transport-https \
  ca-certificates \
  gnupg \
  lsb-release

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞
timedatectl set-timezone Europe/Moscow
```

### 1.3 –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
adduser botuser

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ sudo –≥—Ä—É–ø–ø—É
usermod -aG sudo botuser

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–µ–π
mkdir -p /home/botuser/.ssh
chmod 700 /home/botuser/.ssh

# –ö–æ–ø–∏—Ä—É–µ–º –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (—Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã)
ssh-copy-id botuser@your-vps-ip

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
nano /home/botuser/.ssh/authorized_keys
# –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á

chmod 600 /home/botuser/.ssh/authorized_keys
chown -R botuser:botuser /home/botuser/.ssh

# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
su - botuser
```

### 1.4 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo nano /etc/ssh/sshd_config

# –ò–∑–º–µ–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
Port 2222                          # –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç
PermitRootLogin no                  # –ó–∞–ø—Ä–µ—Ç root –ª–æ–≥–∏–Ω–∞
PasswordAuthentication no           # –ó–∞–ø—Ä–æ—Å –ø–∞—Ä–æ–ª—è –ø–æ –ø–∞—Ä–æ–ª—é
PubkeyAuthentication yes            # –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫–ª—é—á–∏
MaxAuthTries 3                      # –ú–∞–∫—Å–∏–º—É–º 3 –ø–æ–ø—ã—Ç–∫–∏
ClientAliveInterval 300             # –¢–∞–π–º–∞—É—Ç —Å–µ—Å—Å–∏–∏
ClientAliveCountMax 2

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ SSH
sudo systemctl restart sshd
```

### 1.5 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall (UFW)

```bash
# –†–∞–∑—Ä–µ—à–∏—Ç—å SSH (–Ω–æ–≤—ã–π –ø–æ—Ä—Ç)
sudo ufw allow 2222/tcp

# –†–∞–∑—Ä–µ—à–∏—Ç—å HTTP/HTTPS
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp

# –†–∞–∑—Ä–µ—à–∏—Ç—å Telegram webhook (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)
sudo ufw allow 8443/tcp

# –í–∫–ª—é—á–∏—Ç—å firewall
sudo ufw enable

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo ufw status verbose
```

### 1.6 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Fail2Ban

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo apt install -y fail2ban

# –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local

sudo nano /etc/fail2ban/jail.local

# –î–æ–±–∞–≤—å—Ç–µ/–∏–∑–º–µ–Ω–∏—Ç–µ:
[sshd]
enabled = true
port = 2222
maxretry = 3
bantime = 3600
findtime = 600

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl enable fail2ban
sudo systemctl start fail2ban

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo fail2ban-client status
sudo fail2ban-client status sshd
```

---

## üîß –ß–∞—Å—Ç—å 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 2.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 18+ (—á–µ—Ä–µ–∑ NVM)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ NVM
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
source ~/.bashrc

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏ Node.js 18
nvm install 18
nvm use 18
nvm alias default 18

# –ü—Ä–æ–≤–µ—Ä–∫–∞
node --version
npm --version

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
npm install -g \
  pm2 \
  nodemon \
  yarn \
  typescript \
  @nestjs/cli \
  docker-compose
```

### 2.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –∏ Docker Compose

```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Docker GPG –∫–ª—é—á–∞
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Docker —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
sudo apt update
sudo apt install -y docker-ce docker-ce-cli containerd.io

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ docker –≥—Ä—É–ø–ø—É
sudo usermod -aG docker $USER

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/download/v2.20.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# –ü—Ä–æ–≤–µ—Ä–∫–∞
docker --version
docker-compose --version

# –í—ã–π–¥–∏—Ç–µ –∏ –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≥—Ä—É–ø–ø—ã docker
exit
ssh botuser@your-vps-ip
```

### 2.3 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker run -d \
  --name redis \
  --restart unless-stopped \
  -p 6379:6379 \
  -v redis_data:/data \
  redis:7-alpine \
  redis-server --appendonly yes

# –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞—Ç–∏–≤–Ω–æ
sudo apt install -y redis-server

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redis
sudo nano /etc/redis/redis.conf

# –ò–∑–º–µ–Ω–∏—Ç–µ:
bind 127.0.0.1
requirepass your_strong_password_here
maxmemory 256mb
maxmemory-policy allkeys-lru

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl enable redis
sudo systemctl start redis

# –ü—Ä–æ–≤–µ—Ä–∫–∞
redis-cli ping
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: PONG
```

### 2.4 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Docker
docker run -d \
  --name postgres \
  --restart unless-stopped \
  -p 5432:5432 \
  -v postgres_data:/var/lib/postgresql/data \
  -e POSTGRES_USER=botuser \
  -e POSTGRES_PASSWORD=your_password \
  -e POSTGRES_DB=gemini_bot \
  postgres:15-alpine

# –ü—Ä–æ–≤–µ—Ä–∫–∞
docker ps
```

### 2.5 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo apt install -y nginx

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è SSL
sudo mkdir -p /etc/letsencrypt/live/your-domain.com

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –¥–ª—è –±–æ—Ç–∞
sudo nano /etc/nginx/sites-available/gemini-bot

# –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (—Å–º. –Ω–∏–∂–µ –≤ —Ä–∞–∑–¥–µ–ª–µ Nginx)
```

### 2.6 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot (SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo apt install -y certbot python3-certbot-nginx

# –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot --nginx -d your-domain.com

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo certbot renew --dry-run

# –ü—Ä–æ–≤–µ—Ä–∫–∞
sudo systemctl status certbot.timer
```

---

## üìÅ –ß–∞—Å—Ç—å 3: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ VPS

### 3.1 –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
mkdir -p ~/gemini-bot
cd ~/gemini-bot

# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
mkdir -p \
  src \
  src/handlers \
  src/services \
  src/utils \
  src/config \
  logs \
  scripts \
  tests \
  .github/workflows

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git init
```

### 3.2 –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å GitHub
git clone https://github.com/your-username/gemini-bot.git .

# –ò–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã
# –° –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã:
scp -r -P 2222 /path/to/local/project/* botuser@your-vps-ip:~/gemini-bot/
```

### 3.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
cp .env.example .env

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
nano .env

# –î–æ–±–∞–≤—å—Ç–µ:
BOT_TOKEN=your_telegram_bot_token
OPENAI_API_KEY=your_openai_api_key
OPENROUTER=true
OPENROUTER_API_KEY=your_openrouter_api_key
NANO_OPENROUTER_MODEL_NAME=google/gemini-2.5-flash-image
KIE_AI_ENABLED=true
KIE_AI_API_KEY=your_kie_ai_api_key
KIE_AI_POLL_INTERVAL=2000
KIE_AI_MAX_WAIT_TIME=120000
NODE_ENV=production
REDIS_URL=redis://localhost:6379
LOG_LEVEL=info
PORT=3000

# –ó–∞—â–∏—Ç–∞ —Ñ–∞–π–ª–∞
chmod 600 .env
```

---

## üîê –ß–∞—Å—Ç—å 4: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### 4.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–µ–π

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
ssh-keygen -t ed25519 -C "botuser@vps" -f ~/.ssh/vps_bot_key

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞ –Ω–∞ VPS
ssh-copy-id -i ~/.ssh/vps_bot_key.pub -p 2222 botuser@your-vps-ip

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ SSH config
nano ~/.ssh/config

# –î–æ–±–∞–≤—å—Ç–µ:
Host vps-bot
    HostName your-vps-ip
    Port 2222
    User botuser
    IdentityFile ~/.ssh/vps_bot_key
    ServerAliveInterval 60

# –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –ø—Ä–æ—Å—Ç–æ:
ssh vps-bot
```

### 4.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ SSH –∫–ª—é—á–∏

```bash
# –ù–∞ VPS
cd ~/.ssh
ssh-keygen -t ed25519 -C "github-deploy" -f github_deploy_key

# –î–æ–±–∞–≤—å—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
# Settings ‚Üí Deploy keys ‚Üí Add deploy key
cat github_deploy_key.pub

# –ö–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ GitHub
```

### 4.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –±—ç–∫–∞–ø–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –±—ç–∫–∞–ø–∞
sudo nano /usr/local/bin/backup-bot.sh

#!/bin/bash
BACKUP_DIR="/home/botuser/backups"
DATE=$(date +%Y%m%d_%H%M%S)
mkdir -p $BACKUP_DIR

# –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker exec postgres pg_dump -U botuser gemini_bot > $BACKUP_DIR/db_$DATE.sql

# –ë—ç–∫–∞–ø Redis
docker exec redis redis-cli --rdb /data/dump_$DATE.rdb
docker cp redis:/data/dump_$DATE.rdb $BACKUP_DIR/

# –ë—ç–∫–∞–ø .env —Ñ–∞–π–ª–∞
cp /home/botuser/gemini-bot/.env $BACKUP_DIR/.env_$DATE

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (—Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π)
find $BACKUP_DIR -type f -mtime +7 -delete

# –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# rsync -avz $BACKUP_DIR/ user@backup-server:/backups/gemini-bot/

# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
sudo chmod +x /usr/local/bin/backup-bot.sh

# –î–æ–±–∞–≤–∏—Ç—å –≤ crontab (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00)
crontab -e

# –î–æ–±–∞–≤—å—Ç–µ:
0 2 * * * /usr/local/bin/backup-bot.sh >> /var/log/bot-backup.log 2>&1
```

---

## üê≥ –ß–∞—Å—Ç—å 5: Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### 5.1 –°–æ–∑–¥–∞–Ω–∏–µ docker-compose.yml

```yaml
# docker-compose.yml
version: '3.8'

services:
  bot:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: gemini-bot
    restart: unless-stopped
    env_file:
      - .env
    environment:
      - NODE_ENV=production
      - REDIS_URL=redis://redis:6379
      - DATABASE_URL=postgresql://botuser:your_password@postgres:5432/gemini_bot
    depends_on:
      - redis
      - postgres
    volumes:
      - ./logs:/app/logs
      - ./uploads:/app/uploads
    networks:
      - bot-network
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:3000/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s

  redis:
    image: redis:7-alpine
    container_name: gemini-redis
    restart: unless-stopped
    command: redis-server --appendonly yes --requirepass ${REDIS_PASSWORD}
    volumes:
      - redis_data:/data
    networks:
      - bot-network
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 5s
      retries: 5

  postgres:
    image: postgres:15-alpine
    container_name: gemini-postgres
    restart: unless-stopped
    environment:
      - POSTGRES_USER=botuser
      - POSTGRES_PASSWORD=${DB_PASSWORD}
      - POSTGRES_DB=gemini_bot
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql
    networks:
      - bot-network
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U botuser"]
      interval: 10s
      timeout: 5s
      retries: 5

  nginx:
    image: nginx:alpine
    container_name: gemini-nginx
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
      - ./ssl:/etc/nginx/ssl:ro
      - ./logs/nginx:/var/log/nginx
    depends_on:
      - bot
    networks:
      - bot-network

volumes:
  redis_data:
  postgres_data:

networks:
  bot-network:
    driver: bridge
```

### 5.2 –°–æ–∑–¥–∞–Ω–∏–µ Dockerfile

```dockerfile
# Dockerfile
FROM node:18-alpine AS builder

WORKDIR /app

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ package —Ñ–∞–π–ª–æ–≤
COPY package*.json ./

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
RUN npm ci --only=production

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
COPY . .

# –°–±–æ—Ä–∫–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
# RUN npm run build

# Production stage
FROM node:18-alpine

WORKDIR /app

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
RUN apk add --no-cache \
    curl \
    dumb-init

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å builder stage
COPY --from=builder /app/node_modules ./node_modules
COPY --from=builder /app ./

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
RUN addgroup -g 1001 -S bot && \
    adduser -S -u 1001 -G bot bot

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
RUN mkdir -p /app/logs /app/uploads && \
    chown -R bot:bot /app

USER bot

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ dumb-init –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤
ENTRYPOINT ["dumb-init", "--"]

# –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞
CMD ["node", "bot.js"]
```

---

## üîÑ –ß–∞—Å—Ç—å 6: CI/CD Pipeline (GitHub Actions)

### 6.1 –°–æ–∑–¥–∞–Ω–∏–µ workflow –¥–ª—è –¥–µ–ø–ª–æ—è

```yaml
# .github/workflows/deploy.yml
name: Deploy to VPS

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]
  workflow_dispatch:

env:
  NODE_VERSION: '18'
  DOCKER_IMAGE: gemini-bot

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: ${{ env.NODE_VERSION }}
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Run linter
        run: npm run lint || echo "No lint script"

      - name: Run tests
        run: npm test || echo "No tests configured"

  build-and-deploy:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v2

      - name: Login to Docker Hub (optional)
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKER_USERNAME }}
          password: ${{ secrets.DOCKER_PASSWORD }}

      - name: Build and push Docker image
        uses: docker/build-push-action@v4
        with:
          context: .
          push: false
          tags: ${{ env.DOCKER_IMAGE }}:latest
          cache-from: type=gha
          cache-to: type=gha,mode=max

      - name: Deploy to VPS
        uses: appleboy/ssh-action@master
        with:
          host: ${{ secrets.VPS_HOST }}
          username: ${{ secrets.VPS_USER }}
          key: ${{ secrets.VPS_SSH_KEY }}
          port: ${{ secrets.VPS_PORT }}
          script: |
            cd ~/gemini-bot
            git pull origin main
            docker-compose pull
            docker-compose up -d --build
            docker-compose exec -T bot npm run migrate || true
            docker system prune -f

      - name: Health check
        run: |
          sleep 30
          curl -f ${{ secrets.BOT_URL }}/health || exit 1

      - name: Notify on success
        if: success()
        run: |
          echo "‚úÖ Deployment successful!"
          # –î–æ–±–∞–≤—å—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram/Slack

      - name: Notify on failure
        if: failure()
        run: |
          echo "‚ùå Deployment failed!"
          # –î–æ–±–∞–≤—å—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram/Slack
```

### 6.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets

–í GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ secrets:

```
VPS_HOST=your-vps-ip
VPS_USER=botuser
VPS_SSH_KEY=-----BEGIN OPENSSH PRIVATE KEY-----...
VPS_PORT=2222
BOT_URL=https://your-domain.com
DOCKER_USERNAME=your_docker_username
DOCKER_PASSWORD=your_docker_password
```

---

## üìä –ß–∞—Å—Ç—å 7: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 7.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PM2 –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2 (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
npm install -g pm2

# –°–æ–∑–¥–∞–Ω–∏–µ ecosystem.config.js
cat > ecosystem.config.js << 'EOF'
module.exports = {
  apps: [{
    name: 'gemini-bot',
    script: './bot.js',
    instances: 'max',
    exec_mode: 'cluster',
    autorestart: true,
    watch: false,
    max_memory_restart: '1G',
    env: {
      NODE_ENV: 'development'
    },
    env_production: {
      NODE_ENV: 'production'
    },
    error_file: './logs/pm2-error.log',
    out_file: './logs/pm2-out.log',
    log_date_format: 'YYYY-MM-DD HH:mm:ss Z',
    merge_logs: true,
    time: true
  }]
};
EOF

# –ó–∞–ø—É—Å–∫ –≤ production —Ä–µ–∂–∏–º–µ
pm2 start ecosystem.config.js --env production

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
pm2 save

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã
pm2 startup
# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä—É—é –ø–æ–∫–∞–∂–µ—Ç PM2

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
pm2 monit

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pm2 logs gemini-bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 restart gemini-bot

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑ –ø—Ä–æ—Å—Ç–æ—è (zero-downtime)
pm2 reload gemini-bot
```

### 7.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å Winston

```javascript
// src/utils/logger.js
import winston from 'winston';
import DailyRotateFile from 'winston-daily-rotate-file';

const logFormat = winston.format.combine(
  winston.format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }),
  winston.format.errors({ stack: true }),
  winston.format.json()
);

const logger = winston.createLogger({
  level: process.env.LOG_LEVEL || 'info',
  format: logFormat,
  transports: [
    // Error logs
    new DailyRotateFile({
      filename: 'logs/error-%DATE%.log',
      datePattern: 'YYYY-MM-DD',
      level: 'error',
      maxSize: '20m',
      maxFiles: '14d'
    }),
    // Combined logs
    new DailyRotateFile({
      filename: 'logs/combined-%DATE%.log',
      datePattern: 'YYYY-MM-DD',
      maxSize: '20m',
      maxFiles: '7d'
    })
  ]
});

// Console logging –≤ development
if (process.env.NODE_ENV !== 'production') {
  logger.add(new winston.transports.Console({
    format: winston.format.combine(
      winston.format.colorize(),
      winston.format.simple()
    )
  }));
}

export default logger;
```

### 7.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å Prometheus –∏ Grafana

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Prometheus —á–µ—Ä–µ–∑ Docker
docker run -d \
  --name prometheus \
  --restart unless-stopped \
  -p 9090:9090 \
  -v ~/monitoring/prometheus.yml:/etc/prometheus/prometheus.yml \
  -v prometheus_data:/prometheus \
  prom/prometheus

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Grafana —á–µ—Ä–µ–∑ Docker
docker run -d \
  --name grafana \
  --restart unless-stopped \
  -p 3001:3000 \
  -v grafana_data:/var/lib/grafana \
  grafana/grafana

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Prometheus
mkdir -p ~/monitoring
cat > ~/monitoring/prometheus.yml << 'EOF'
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'gemini-bot'
    static_configs:
      - targets: ['bot:3000']
    metrics_path: '/metrics'
EOF
```

### 7.4 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Alertmanager —á–µ—Ä–µ–∑ Docker
docker run -d \
  --name alertmanager \
  --restart unless-stopped \
  -p 9093:9093 \
  -v ~/monitoring/alertmanager.yml:/etc/alertmanager/alertmanager.yml \
  prom/alertmanager

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Alertmanager
cat > ~/monitoring/alertmanager.yml << 'EOF'
route:
  receiver: 'telegram-notifications'
  group_by: ['alertname']
  group_wait: 10s
  group_interval: 10s
  repeat_interval: 1h

receivers:
  - name: 'telegram-notifications'
    telegram_configs:
      - bot_token: 'YOUR_BOT_TOKEN'
        chat_id: 'YOUR_CHAT_ID'
        send_resolved: true
EOF
```

---

## üé® –ß–∞—Å—Ç—å 8: VS Code Remote Development

### 8.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ VS Code Remote SSH Extension

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ VS Code
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ "Remote - SSH"
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSH config:

```bash
# ~/.ssh/config –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
Host vps-bot
    HostName your-vps-ip
    Port 2222
    User botuser
    IdentityFile ~/.ssh/vps_bot_key
    ForwardAgent yes
    ServerAliveInterval 60
```

4. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VPS:
   - –û—Ç–∫—Ä–æ–π—Ç–µ VS Code
   - –ù–∞–∂–º–∏—Ç–µ F1 ‚Üí "Remote-SSH: Connect to Host"
   - –í—ã–±–µ—Ä–∏—Ç–µ "vps-bot"

### 8.2 –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è VS Code

```
- Remote - SSH
- Prettier
- ESLint
- GitLens
- Docker
- GitHub Copilot
- Thunder Client (–¥–ª—è API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- Error Lens
- Code Spell Checker
- TODO Highlight
```

### 8.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ VS Code Workspace

```json
// .vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "terminal.integrated.defaultProfile.linux": "bash",
  "files.exclude": {
    "**/.git": true,
    "**/.DS_Store": true,
    "**/node_modules": true,
    "**/logs": true
  },
  "search.exclude": {
    "**/node_modules": true,
    "**/logs": true
  }
}
```

---

## üöÄ –ß–∞—Å—Ç—å 9: Developer Workflow

### 9.1 –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π workflow

```bash
# 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VPS
ssh vps-bot

# 2. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø—Ä–æ–µ–∫—Ç
cd ~/gemini-bot

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
git status
pm2 status
docker ps

# 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
git pull origin main

# 5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å)
npm install

# 6. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
pm2 reload gemini-bot

# 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
pm2 logs gemini-bot --lines 100

# 8. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
pm2 monit
```

### 9.2 –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

```bash
# 1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ç–∫–∏
git checkout -b feature/new-feature

# 2. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–¥–∞
# ... –ø–∏—à–µ–º –∫–æ–¥ ...

# 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
npm test

# 4. –ö–æ–º–º–∏—Ç
git add .
git commit -m "feat: add new feature"

# 5. –ü—É—à –≤ GitHub
git push origin feature/new-feature

# 6. –°–æ–∑–¥–∞–Ω–∏–µ Pull Request –≤ GitHub
# 7. –ü–æ—Å–ª–µ —Å–ª–∏—è–Ω–∏—è - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
```

### 9.3 –ì–æ—Ä—è—á–∏–µ —Ñ–∏–∫—Å—ã

```bash
# 1. –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ –¥–ª—è hotfix
git checkout -b hotfix/critical-bug

# 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
# ... –∏—Å–ø—Ä–∞–≤–ª—è–µ–º ...

# 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
npm test

# 4. –ö–æ–º–º–∏—Ç –∏ –ø—É—à
git add .
git commit -m "fix: critical bug"
git push origin hotfix/critical-bug

# 5. –°–æ–∑–¥–∞–Ω–∏–µ PR –∏ —Å–ª–∏—è–Ω–∏–µ
# 6. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
```

### 9.4 –û—Ç–ª–∞–¥–∫–∞ –Ω–∞ VPS

```bash
# 1. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 logs gemini-bot

# 2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
pm2 attach gemini-bot

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫
pm2 show gemini-bot

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –æ—Ç–ª–∞–¥–∫–æ–π
NODE_ENV=development pm2 restart gemini-bot

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker logs gemini-bot -f
docker exec -it gemini-bot sh

# 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis
redis-cli
> KEYS session:*
> GET session:123456

# 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker exec -it gemini-postgres psql -U botuser -d gemini_bot
```

---

## üìã –ß–∞—Å—Ç—å 10: –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –¥–µ–ø–ª–æ—è

### –ü–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –¥–µ–ø–ª–æ–µ–º:

- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –∫–ª—é—á–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Firewall (UFW)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Fail2Ban
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js 18+
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker –∏ Docker Compose
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx
- [ ] –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env —Ñ–∞–π–ª
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PM2
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±—ç–∫–∞–ø—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD pipeline

### –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–ø–ª–æ–µ–º:

- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã: `npm test`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å linting: `npm run lint`
- [ ] –°–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø: `backup-bot.sh`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ç–∫—É: `git branch`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è: `git diff`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å PM2: `pm2 status`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `pm2 logs`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health check: `curl http://localhost:3000/health`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã: `docker ps`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞ –≤ Telegram
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –£–≤–µ–¥–æ–º–∏—Ç—å –∫–æ–º–∞–Ω–¥—É

---

## üîß –ß–∞—Å—Ç—å 11: –ü–æ–ª–µ–∑–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### 11.1 –°–∫—Ä–∏–ø—Ç –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–ø–ª–æ—è

```bash
#!/bin/bash
# scripts/deploy.sh

set -e

echo "üöÄ Starting deployment..."

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
if [ -n "$(git status --porcelain)" ]; then
  echo "‚ùå There are uncommitted changes!"
  exit 1
fi

# –ü—É–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π
echo "üì• Pulling latest changes..."
git pull origin main

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
echo "üì¶ Installing dependencies..."
npm ci

# –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π
echo "üóÑÔ∏è Running migrations..."
npm run migrate || echo "No migrations to run"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
echo "üîÑ Restarting bot..."
pm2 reload gemini-bot

# –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞
echo "‚è≥ Waiting for bot to start..."
sleep 10

# Health check
echo "üè• Health check..."
if curl -f http://localhost:3000/health; then
  echo "‚úÖ Deployment successful!"
else
  echo "‚ùå Health check failed!"
  pm2 logs gemini-bot --lines 50
  exit 1
fi
```

### 11.2 –°–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤

```bash
#!/bin/bash
# scripts/cleanup-logs.sh

echo "üßπ Cleaning up old logs..."

# –£–¥–∞–ª–µ–Ω–∏–µ –ª–æ–≥–æ–≤ —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π
find ~/gemini-bot/logs -name "*.log" -mtime +30 -delete

# –û—á–∏—Å—Ç–∫–∞ Docker –ª–æ–≥–æ–≤
docker system prune -f

# –û—á–∏—Å—Ç–∫–∞ PM2 –ª–æ–≥–æ–≤
pm2 flush

echo "‚úÖ Cleanup completed!"
```

### 11.3 –°–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
#!/bin/bash
# scripts/monitor.sh

echo "üìä System Status"
echo "=================="

# CPU –∏ –ø–∞–º—è—Ç—å
echo "üñ•Ô∏è CPU & Memory:"
free -h
echo ""
top -bn1 | head -20

echo ""
echo "üê≥ Docker Status:"
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"

echo ""
echo "‚ö° PM2 Status:"
pm2 status

echo ""
echo "üìà Disk Usage:"
df -h

echo ""
echo "üåê Network Connections:"
netstat -tuln | grep LISTEN
```

---

## üìö –ß–∞—Å—Ç—å 12: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# System
htop                    # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã
df -h                   # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
du -sh ~/gemini-bot     # –†–∞–∑–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞
netstat -tuln          # –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã

# Git
git log --oneline -10  # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–∏—Ç—ã
git diff               # –ò–∑–º–µ–Ω–µ–Ω–∏—è
git stash              # –°–∫—Ä—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

# Docker
docker-compose logs -f # –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker stats          # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker system df      # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞

# PM2
pm2 list               # –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pm2 info gemini-bot    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–µ
pm2 reset gemini-bot   # –°–±—Ä–æ—Å –º–µ—Ç—Ä–∏–∫

# Redis
redis-cli INFO        # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Redis
redis-cli DBSIZE      # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π

# Nginx
sudo nginx -t         # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo systemctl reload nginx  # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –±–µ–∑ –ø—Ä–æ—Å—Ç–æ—è
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ URLs:

```
http://your-vps-ip:3000/health    # Health check
http://your-vps-ip:3000/metrics   # Prometheus metrics
http://your-vps-ip:9090           # Prometheus UI
http://your-vps-ip:3001           # Grafana UI
```

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç developer flow –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - SSH –∫–ª—é—á–∏, firewall, fail2ban  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - CI/CD pipeline, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã  
‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - PM2, Prometheus, Grafana  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - Docker, Redis, PostgreSQL  
‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ** - VS Code Remote, —Å–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏  
‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - Health checks, –∞–ª–µ—Ä—Ç—ã, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ  

–°–ª–µ–¥—É–π—Ç–µ —ç—Ç–æ–º—É workflow –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –¥–µ–ø–ª–æ—è –≤–∞—à–µ–≥–æ Telegram –±–æ—Ç–∞!

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 2026-01-01*  
*–ê–≤—Ç–æ—Ä: Kilo Code (Architect Mode)*
